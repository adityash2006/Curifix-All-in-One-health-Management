<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#3B82F6">
  <title>Smart Medicine Reminder</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" id="manifest">
  
  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Medicine Reminder">
  
  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="192x192" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' fill='%233B82F6'/%3E%3Cpath d='M96 40c-8 0-16 8-16 16v24H56c-8 0-16 8-16 16s8 16 16 16h24v24c0 8 8 16 16 16s16-8 16-16v-24h24c8 0 16-8 16-16s-8-16-16-16h-24V56c0-8-8-16-16-16z' fill='white'/%3E%3C/svg%3E">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%233B82F6'/%3E%3Cpath d='M16 6c-1.3 0-2.5 1.3-2.5 2.5v3.75H9.75c-1.3 0-2.5 1.3-2.5 2.5s1.2 2.5 2.5 2.5h3.75v3.75c0 1.3 1.2 2.5 2.5 2.5s2.5-1.2 2.5-2.5v-3.75h3.75c1.3 0 2.5-1.2 2.5-2.5s-1.2-2.5-2.5-2.5h-3.75V8.5c0-1.2-1.2-2.5-2.5-2.5z' fill='white'/%3E%3C/svg%3E">
  
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <!-- PWA Install Prompt -->
  <div id="installPrompt" class="install-prompt hidden">
    <div class="install-content">
      <div class="install-icon">üì±</div>
      <h3>Install Medicine Reminder</h3>
      <p>Add to your home screen for quick access</p>
      <div class="install-actions">
        <button id="installBtn" class="btn btn--primary">Install</button>
        <button id="dismissInstall" class="btn btn--outline">Not now</button>
      </div>
    </div>
  </div>

  <!-- Welcome Screen -->
  <div id="welcomeScreen" class="screen active">
    <div class="welcome-container">
      <div class="welcome-hero">
        <div class="welcome-icon">üíä</div>
        <h1>Smart Medicine Reminder</h1>
        <p>Never miss your medication again. Track, manage, and get reminded about your medicines.</p>
      </div>
      <div class="welcome-features">
        <div class="feature-item">
          <span class="feature-icon">‚è∞</span>
          <span>Smart Reminders</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">üìã</span>
          <span>Prescription Upload</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">üìä</span>
          <span>Progress Tracking</span>
        </div>
      </div>
      <div class="welcome-actions">
        <button id="getStartedBtn" class="btn btn--primary btn--lg btn--full-width">Get Started</button>
        <button id="loginBtn" class="btn btn--outline btn--lg btn--full-width">I have an account</button>
      </div>
    </div>
  </div>

  <!-- Signup Screen -->
  <div id="signupScreen" class="screen">
    <div class="screen-header">
      <button id="backToWelcome" class="btn-back">‚Üê</button>
      <h2>Create Account</h2>
    </div>
    <div class="screen-content">
      <form id="signupForm" class="signup-form">
        <div class="form-group">
          <label class="form-label" for="userName">Full Name</label>
          <input type="text" id="userName" class="form-control" placeholder="Enter your full name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="userAge">Age</label>
          <input type="number" id="userAge" class="form-control" placeholder="Enter your age" min="1" max="120" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="userEmail">Email Address</label>
          <input type="email" id="userEmail" class="form-control" placeholder="Enter your email" required>
        </div>
        <button type="submit" class="btn btn--primary btn--lg btn--full-width">Create Account</button>
      </form>
    </div>
  </div>

  <!-- Dashboard Screen -->
  <div id="dashboardScreen" class="screen">
    <div class="screen-header dashboard-header">
      <div class="user-greeting">
        <h2 id="userGreeting">Hello!</h2>
        <p id="todaysDate">Today's Schedule</p>
      </div>
      <button id="notificationBtn" class="notification-btn">
        <span class="notification-icon">üîî</span>
        <span id="notificationBadge" class="notification-badge hidden">1</span>
      </button>
    </div>
    
    <div class="screen-content">
      <!-- Today's Summary -->
      <div class="summary-cards">
        <div class="summary-card">
          <div class="summary-icon">üìã</div>
          <div class="summary-info">
            <div class="summary-number" id="totalMedicines">0</div>
            <div class="summary-label">Total Medicines</div>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚úÖ</div>
          <div class="summary-info">
            <div class="summary-number" id="takenMedicines">0</div>
            <div class="summary-label">Taken Today</div>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚è∞</div>
          <div class="summary-info">
            <div class="summary-number" id="pendingMedicines">0</div>
            <div class="summary-label">Pending</div>
          </div>
        </div>
      </div>

      <!-- Today's Medicines -->
      <div class="section">
        <h3>Today's Medicines</h3>
        <div id="todaysMedicines" class="medicines-list">
          <!-- Medicine cards will be inserted here -->
        </div>
      </div>
      
      <!-- Upcoming Reminders -->
      <div class="section">
        <h3>Next Reminders</h3>
        <div id="upcomingReminders" class="reminders-list">
          <!-- Upcoming reminders will be inserted here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Upload Screen -->
  <div id="uploadScreen" class="screen">
    <div class="screen-header">
      <h2>Upload Prescription</h2>
    </div>
    
    <div class="screen-content">
      <div class="upload-area" id="uploadArea">
        <div class="upload-icon">üìÑ</div>
        <h3>Upload Your Prescription</h3>
        <p>Drag &amp; drop your prescription file here or click to browse</p>
        <input type="file" id="prescriptionFile" accept=".pdf,.jpg,.jpeg,.png,.txt" hidden>
        <button id="browseFileBtn" class="btn btn--primary">Choose File</button>
      </div>
      
      <div id="uploadProgress" class="upload-progress hidden">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p>Analyzing prescription...</p>
      </div>
      
      <div id="analysisResults" class="analysis-results hidden">
        <h3>Analysis Complete!</h3>
        <p>We found the following medicines:</p>
        <div id="extractedMedicines" class="extracted-medicines">
          <!-- Extracted medicines will be shown here -->
        </div>
        <button id="confirmSchedule" class="btn btn--primary btn--full-width">Confirm Schedule</button>
      </div>
    </div>
  </div>

  <!-- Schedule Screen -->
  <div id="scheduleScreen" class="screen">
    <div class="screen-header">
      <h2>Medicine Schedule</h2>
      <button id="scheduleViewToggle" class="view-toggle">
        <span class="toggle-option active" data-view="calendar">üìÖ</span>
        <span class="toggle-option" data-view="list">üìã</span>
      </button>
    </div>
    
    <div class="screen-content">
      <!-- Calendar View -->
      <div id="calendarView" class="schedule-view active">
        <div class="calendar-header">
          <button id="prevMonth" class="btn btn--outline btn--sm">‚Äπ</button>
          <h3 id="currentMonth">October 2025</h3>
          <button id="nextMonth" class="btn btn--outline btn--sm">‚Ä∫</button>
        </div>
        <div class="calendar-grid" id="calendarGrid">
          <!-- Calendar will be generated here -->
        </div>
        <div id="dayDetails" class="day-details hidden">
          <h4 id="selectedDate">Selected Date</h4>
          <div id="dayMedicines" class="day-medicines">
            <!-- Medicines for selected day -->
          </div>
        </div>
      </div>
      
      <!-- List View -->
      <div id="listView" class="schedule-view">
        <div class="medicine-schedule-list">
          <div id="allMedicinesList" class="all-medicines">
            <!-- All medicines with their schedules -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Screen -->
  <div id="profileScreen" class="screen">
    <div class="screen-header">
      <h2>Profile</h2>
    </div>
    
    <div class="screen-content">
      <div class="profile-card">
        <div class="profile-avatar">
          <span id="profileInitials">U</span>
        </div>
        <div class="profile-info">
          <h3 id="profileName">User Name</h3>
          <p id="profileDetails">Age, Email</p>
        </div>
        <button id="editProfileBtn" class="btn btn--outline btn--sm">Edit</button>
      </div>
      
      <div class="profile-sections">
        <div class="profile-section">
          <h4>Medicine Statistics</h4>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-number" id="totalMedsProfile">0</span>
              <span class="stat-label">Total Medicines</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" id="adherenceRate">0%</span>
              <span class="stat-label">Adherence Rate</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" id="streakDays">0</span>
              <span class="stat-label">Day Streak</span>
            </div>
          </div>
        </div>
        
        <div class="profile-section">
          <h4>Settings</h4>
          <div class="settings-list">
            <div class="setting-item">
              <span>Notifications</span>
              <label class="toggle-switch">
                <input type="checkbox" id="notificationsToggle" checked>
                <span class="slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <span>Sound Alerts</span>
              <label class="toggle-switch">
                <input type="checkbox" id="soundToggle" checked>
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <div class="profile-section">
          <h4>Actions</h4>
          <div class="action-buttons">
            <button id="downloadScheduleBtn" class="btn btn--outline btn--full-width">üì• Download Schedule</button>
            <button id="resetDataBtn" class="btn btn--outline btn--full-width">üîÑ Reset All Data</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Profile Modal -->
  <div id="editProfileModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Profile</h3>
        <button id="closeEditModal" class="modal-close">√ó</button>
      </div>
      <form id="editProfileForm">
        <div class="form-group">
          <label class="form-label" for="editName">Full Name</label>
          <input type="text" id="editName" class="form-control" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="editAge">Age</label>
          <input type="number" id="editAge" class="form-control" min="1" max="120" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="editEmail">Email Address</label>
          <input type="email" id="editEmail" class="form-control" required>
        </div>
        <div class="modal-actions">
          <button type="button" id="cancelEdit" class="btn btn--outline">Cancel</button>
          <button type="submit" class="btn btn--primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Medicine Detail Modal -->
  <div id="medicineModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="medicineModalTitle">Medicine Details</h3>
        <button id="closeMedicineModal" class="modal-close">√ó</button>
      </div>
      <div class="modal-body">
        <div id="medicineModalContent">
          <!-- Medicine details will be inserted here -->
        </div>
      </div>
      <div class="modal-actions">
        <button id="markTaken" class="btn btn--primary">Mark as Taken</button>
        <button id="markMissed" class="btn btn--outline">Mark as Missed</button>
        <button id="skipDose" class="btn btn--outline">Skip This Dose</button>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" data-screen="dashboard">
      <span class="nav-icon">üè†</span>
      <span class="nav-label">Dashboard</span>
    </button>
    <button class="nav-item" data-screen="schedule">
      <span class="nav-icon">üìÖ</span>
      <span class="nav-label">Schedule</span>
    </button>
    <button class="nav-item" data-screen="upload">
      <span class="nav-icon">üì§</span>
      <span class="nav-label">Upload</span>
    </button>
    <button class="nav-item" data-screen="profile">
      <span class="nav-icon">üë§</span>
      <span class="nav-label">Profile</span>
    </button>
  </nav>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <p>Loading...</p>
  </div>

  <!-- Notification Toast -->
  <div id="notificationToast" class="notification-toast hidden">
    <div class="toast-content">
      <span class="toast-icon">üíä</span>
      <div class="toast-text">
        <div class="toast-title">Medicine Reminder</div>
        <div class="toast-message">Time to take your medication</div>
      </div>
      <button class="toast-close">√ó</button>
    </div>
  </div>

  <script src="app.js"></script>
  
  <script>
    // Initialize PWA manifest
    const manifestData = {
      "name": "Smart Medicine Reminder",
      "short_name": "MedReminder",
      "description": "Never miss your medication again",
      "start_url": "./index.html",
      "display": "standalone",
      "background_color": "#ffffff",
      "theme_color": "#3B82F6",
      "orientation": "portrait",
      "scope": "./",
      "icons": [
        {
          "src": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' fill='%233B82F6'/%3E%3Cpath d='M96 40c-8 0-16 8-16 16v24H56c-8 0-16 8-16 16s8 16 16 16h24v24c0 8 8 16 16 16s16-8 16-16v-24h24c8 0 16-8 16-16s-8-16-16-16h-24V56c0-8-8-16-16-16z' fill='white'/%3E%3C/svg%3E",
          "sizes": "192x192",
          "type": "image/svg+xml"
        },
        {
          "src": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' fill='%233B82F6'/%3E%3Cpath d='M256 106c-21 0-42 21-42 42v64H150c-21 0-42 21-42 42s21 42 42 42h64v64c0 21 21 42 42 42s42-21 42-42v-64h64c21 0 42-21 42-42s-21-42-42-42h-64v-64c0-21-21-42-42-42z' fill='white'/%3E%3C/svg%3E",
          "sizes": "512x512",
          "type": "image/svg+xml",
          "purpose": "any maskable"
        }
      ],
      "categories": ["health", "medical", "productivity"],
      "lang": "en"
    };
    
    const manifestBlob = new Blob([JSON.stringify(manifestData)], { type: 'application/json' });
    const manifestURL = URL.createObjectURL(manifestBlob);
    document.getElementById('manifest').href = manifestURL;
  </script>
</body>
</html>